<h1>Reports</h1>



<p>Here you can see the reports users have made.</p>

<div class="row">
  <div class="col-md-12">

  <div class="btn-group">
    <button class="btn btn-default btn-sm pull-left show-reports-button"
            ng-class="{'btn-primary': vm.listFilter == 'all'}"
            ng-click="vm.refreshList('all')">
      All
    </button>

    <button class="btn btn-default btn-sm pull-left show-reports-button"
            ng-class="{'btn-primary': vm.listFilter === 'unresolved'}"
            ng-click="vm.refreshList('unresolved')">
      Only Unresolved Reports
    </button>

    <button class="btn btn-default btn-sm pull-left show-reports-button"
            ng-class="{'btn-primary': vm.listFilter === 'resolved'}"
            ng-click="vm.refreshList('resolved')">
      Only Resolved Reports
    </button>
  </div>

  <button class="btn btn-success btn-sm pull-right resolve-reports-button" ng-click="vm.resolveMultiple()">
    Resolve Multiple Reports
  </button>

  </div>
</div>

<div class="report-sorter">
  {{'DASHBOARD.SORT' | translate}}
  <video-sort-order-dropdown  ng-model="vm.sortAndOrderBy" ng-change="vm.refreshList()"  dropdown-type="'report'"></video-sort-order-dropdown>
</div>

<!--<div class="row dash-filter">-->
  <!--<div class="col-md-3 col-lg-3 col-sm-4">-->
    <!--{{'DASHBOARD.SORT' | translate}}-->
    <!--<video-sort-order-dropdown ng-model="vm.tvShow.sorter" ng-model-options="{getterSetter:true}" dropdown-type="'tvShow'"></video-sort-order-dropdown>-->
  <!--</div>-->


<div >
  <table class="table table-striped table-reports">
    <thead>
    <tr>
      <th></th>
      <th>Report ID</th>
      <th>Reported On</th>
      <th>Last Updated</th>
      <th>User</th>
      <th>Play</th>
      <th>Edit Page</th>
      <th></th>
    </tr>
    </thead>
    <tr ng-repeat="report in vm.reports | filter: vm.showReports">

      <td>
        <input type="checkbox" ng-if="report.resolved == false" ng-click="vm.addOrRemoveFromSelection($event, report)">
      </td>

      <td>
        {{report.id}}
      </td>

      <td>
        {{report.dateCreated | date : 'short'}}
      </td>

      <td>
        {{report.lastUpdated | date : 'short'}}
      </td>

      <td>
        {{report.userName}}
      </td>

      <td >
        <a class="ion-android-arrow-dropright-circle"
           style="font-size: 30px"
           ui-sref="player({videoId: report.videoId})"></a>
      </td>
      <td>
        <a ng-if="report.showId" ui-sref="admin.show({showId: report.showId})">{{report.videoTitle}}</a>
        <a ng-if="!report.showId" ui-sref="admin.movie({movieId: report.videoId})">{{report.videoTitle}}</a>
        <p ng-if="report.episodeString">
          ({{report.episodeString}})
        </p>
      </td>


      <td>
        <button ng-if="report.resolved == false" title="Resolve report" class="btn btn-xs btn-success" ng-click="vm.resolve(report)"><i class="ion-checkmark"></i></button>
        <button ng-if="report.resolved == true" title="Unesolve report" class="btn btn-xs btn-danger" ng-click="vm.unresolve(report)"><i class="ion-close"></i></button>
      </td>


    </tr>
  </table>

  <ul uib-pagination ng-if="vm.reportsCount > vm.maxPerPage"
      max-size="7" force-ellipses="true"
      boundary-links="true" total-items="vm.reportsCount"
      ng-model="vm.pagination.currentPage" items-per-page="vm.maxPerPage" ng-change="vm.pageChanged()"></ul>

</div>
